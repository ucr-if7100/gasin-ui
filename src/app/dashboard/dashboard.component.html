<div class="dashboard-container">

    <div class="accounts-container">
        <h2>Cuentas Bancarias</h2>
        <div class="account-cards">
            <div *ngFor="let account of accounts" class="account-card" [ngClass]="getAccountCardColor(account.balance)">
                <div class="account-info">
                    <h3>{{ account.name }}</h3>
                    <p>Saldo: ₡{{ account.balance | number }}</p>
                </div>
            </div>
        </div>
        <button type="button" class="add-account-btn" routerLink="/addAccount">Agregar Cuenta</button>
    </div>

    <div class="transactions-container">
        <h2>Transacciones</h2>
        <button mat-raised-button color="accent" (click)="viewAllTransactions()">Ver todo</button>
        <table mat-table class="transactions-table" [dataSource]="dataSource">
            <ng-container matColumnDef="Fecha">
                <th mat-header-cell *matHeaderCellDef>Fecha</th>
                <td mat-cell *matCellDef="let transaction">{{ transaction.date | date }}</td>
            </ng-container>
            <ng-container matColumnDef="Descripción">
                <th mat-header-cell *matHeaderCellDef>Descripción</th>
                <td mat-cell *matCellDef="let transaction">{{ transaction.description }}</td>
            </ng-container>
            <ng-container matColumnDef="Monto">
                <th mat-header-cell *matHeaderCellDef>Monto</th>
                <td mat-cell *matCellDef="let transaction"
                    [ngClass]="{ 'income': transaction.amount >= 0, 'expense': transaction.amount < 0 }">
                    ₡{{ transaction.amount | number }}
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
